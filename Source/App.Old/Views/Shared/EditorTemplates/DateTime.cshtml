@using System.Globalization
@model DateTime?
@{
    var attributes = new Dictionary<string, object>();
    
    // The datepicker plugin uses slightly different date formats than .NET. E.g MM/dd/yyyy needs to be mm/dd/yyyy    
    attributes.Add("data-date-format", CultureInfo.CurrentCulture.DateTimeFormat.ShortDatePattern.ToLower());
    attributes.Add("type", "datetime");


    attributes.Add("type", "datetime");

    attributes.Add("class", "text-box single-line input-small");

    //since this is a constraint, IsRequired and other constraints 
    //won't necessarily apply in the browser, but in case script 
    //turns off readonly we want the constraints passed
    if (ViewData.ModelMetadata.IsReadOnly)
    {
        attributes.Add("readonly", "readonly");
    }

    if (ViewData.ModelMetadata.IsRequired)
    {
        attributes.Add("required", "required");
    }
}
@Html.TextBox("", ViewData.TemplateInfo.FormattedModelValue, attributes)